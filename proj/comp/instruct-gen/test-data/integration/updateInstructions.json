{
  "cases": [
    {
      "name": "generates filtered instructions file",
      "input": {
        "repoPath": "/tmp/t_instruct-gen-integration",
        "allowedTools": [
          "write_file",
          "read_file"
        ]
      },
      "setup": {
        "createTempDir": true
      },
      "verify": {
        "fileExists": "/tmp/t_instruct-gen-integration/NESL_INSTRUCTIONS.md",
        "fileContains": [
          "### `write_file`",
          "### `read_file`"
        ],
        "fileNotContains": [
          "### `delete_file`",
          "### `exec`"
        ]
      }
    }
  ]
}