# Unit tests for ambiguous target detection
# Validates multiple match scenarios

- name: multiple_methods_same_name
  file: multi.ts
  content: |2
    class Foo {
      process() { return 'foo'; }
    }
    
    class Bar {
      process() { return 'bar'; }
    }
  target: "process"
  expected_match_count: 2
  expected_matches:
    - parent: "Foo"
      line_range: [2, 2]
    - parent: "Bar"
      line_range: [6, 6]

- name: method_vs_function_same_name
  file: mixed.ts
  content: |2
    class Service {
      handle() { return 1; }
    }
    
    function handle() { return 2; }
  target: "handle"
  expected_match_count: 2
  match_types: ["method", "function"]

- name: exact_parent_disambiguation
  file: disambig.ts
  content: |2
    class Foo {
      process() { return 'foo'; }
    }
    
    class Bar {
      process() { return 'bar'; }
    }
  target: |
    Bar
    process
  expected_match_count: 1
  expected_line_range: [6, 6]