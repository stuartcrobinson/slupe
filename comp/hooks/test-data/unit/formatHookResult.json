{
  "cases": [
    {
      "name": "all commands succeed",
      "input": [
        [
          {
            "command": "git add .",
            "success": true,
            "stdout": "files added",
            "stderr": ""
          },
          {
            "command": "git commit -m \"test\"",
            "success": true,
            "stdout": "committed",
            "stderr": ""
          }
        ]
      ],
      "expected": {
        "success": true,
        "executed": 2
      }
    },
    {
      "name": "one command fails",
      "input": [
        [
          {
            "command": "git add .",
            "success": true
          },
          {
            "command": "git commit -m \"test\"",
            "success": false,
            "error": "nothing to commit"
          }
        ]
      ],
      "expected": {
        "success": false,
        "executed": 2,
        "errors": [
          {
            "command": "git commit -m \"test\"",
            "error": "nothing to commit"
          }
        ]
      }
    },
    {
      "name": "empty results",
      "input": [
        []
      ],
      "expected": {
        "success": true,
        "executed": 0
      }
    },
    {
      "name": "multiple failures",
      "input": [
        [
          {
            "command": "cmd1",
            "success": false,
            "error": "error1"
          },
          {
            "command": "cmd2",
            "success": false,
            "error": "error2"
          },
          {
            "command": "cmd3",
            "success": true
          }
        ]
      ],
      "expected": {
        "success": false,
        "executed": 3,
        "errors": [
          {
            "command": "cmd1",
            "error": "error1"
          },
          {
            "command": "cmd2",
            "error": "error2"
          }
        ]
      }
    },
    {
      "name": "error without error message",
      "input": [
        [
          {
            "command": "failing-cmd",
            "success": false
          }
        ]
      ],
      "expected": {
        "success": false,
        "executed": 1,
        "errors": [
          {
            "command": "failing-cmd",
            "error": "Command failed"
          }
        ]
      }
    }
  ]
}